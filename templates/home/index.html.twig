{% extends 'base.html.twig' %}

{% block title %}Accueil
{% endblock %}

{% block importmap %}
	{{ importmap(['app', 'getGeolocation' ]) }}
{% endblock %}

{% block javascripts %}
	{# base.html.twig JS block #}
	{{ parent() }}

	<script src="https://maps.googleapis.com/maps/api/js?key={{ google_maps_api_key }}&callback=initMap&loading=async" async></script>
{% endblock %}

{% block body %}
	<main>
		{# Hero and title #}
		<section class="hero_home text-center d-flex align-items-center justify-content-center container-fluid">
			<h1 class="text-white title title text-center">Partageons la route<br>préservons la planète</h1>
		</section>
		<section>
			<h2 class="text-secondary text-center mt-3">Bienvenue sur Ecoride</h2>
			{# Summary section #}
			<section class="p-5 features-icons text-center">
				<div class="container">
					<div class="row">
						<div class="col-lg-4">
							<div class=" mx-auto mb-5 mb-lg-0 mb-lg-3">
								<svg width="90px" height="90px" viewbox="0 0 400 400" fill="none" xmlns="http://www.w3.org/2000/svg">
									<g id="SVGRepo_bgCarrier" stroke-width="0"></g>
									<g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
									<g id="SVGRepo_iconCarrier">
										<path d="M80.7608 270.804C55.6591 224.521 81.8607 208.301 88.4823 173.723C99.8312 114.459 21.6714 170.36 97.5614 173.147C160.642 175.463 230.96 171.145 299.572 167.156C380.772 162.435 295.6 120.103 309.786 168.079C316.712 191.501 343.035 245.969 317.957 270.804C297.951 282.092 125.667 276.448 104.37 274.19" stroke="#009991" stroke-opacity="0.9" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"></path>
										<path d="M134.15 229.865C148.079 230.524 267.705 218.656 267.705 226.127C267.705 258.982 176.42 267.71 148.765 249.072" stroke="#009991" stroke-opacity="0.9" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"></path>
										<path d="M106.821 232.302C110.419 217.04 112.217 208.047 112.217 205.321" stroke="#009991" stroke-opacity="0.9" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"></path>
										<path d="M294.325 232.302C294.51 226.781 292.715 216.888 288.941 202.623" stroke="#009991" stroke-opacity="0.9" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"></path>
										<path d="M86.0244 281.658C67.9336 322.495 134.378 335.111 125.176 287.37" stroke="#009991" stroke-opacity="0.9" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"></path>
										<path d="M278.498 290.055C278.271 331.84 326.627 322.844 316.127 274.913" stroke="#009991" stroke-opacity="0.9" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"></path>
										<path d="M100.424 161.593C111.134 140.332 112.062 105.339 131.918 89.6419C143.292 80.6482 252.188 79.2684 268.318 87.2386C286.529 96.2368 297.069 140.048 300.082 157.898" stroke="#009991" stroke-opacity="0.9" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"></path>
										<path d="M225.385 105.117C256.488 72.5435 286.462 132.377 238.616 140.901C234.181 141.689 224.674 141.898 221.678 137.787C215.945 129.921 215.26 116.049 217.976 107.19" stroke="#009991" stroke-opacity="0.9" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"></path>
										<path d="M212.395 164.993C221.58 126.943 266.116 124.381 266.116 168.741" stroke="#009991" stroke-opacity="0.9" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"></path>
										<path d="M140.896 169.006C150.081 141.609 194.617 139.765 194.617 171.704" stroke="#009991" stroke-opacity="0.9" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"></path>
										<path d="M165.722 101.492C217.005 92.8303 172.681 180.892 149.425 128.847C145.253 119.509 149.028 111.211 154.255 106.356" stroke="#009991" stroke-opacity="0.9" stroke-width="16" stroke-linecap="round" stroke-linejoin="round"></path>
									</g>
								</svg>
								<h3 class="text-secondary">Confiance assurée</h3>
								<p class="lead mb-0">Nous mettons un point d’honneur à vérifier chaque profil et chaque avis afin d'assurer des trajets entre membres de confiance. Grâce à une plateforme sécurisée et à une communauté engagée, vous savez avec qui vous voyagez. Partagez la route l’esprit tranquille.</p>
							</div>
						</div>
						<div class="col-lg-4">
							<div class=" mx-auto mb-5 mb-lg-0 mb-lg-3">
								<svg fill="#009991" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="90px" height="90px" viewbox="0 0 260 260" enable-background="new 0 0 260 260" xml:space="preserve">
									<g id="SVGRepo_bgCarrier" stroke-width="0"></g>
									<g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
									<g id="SVGRepo_iconCarrier">
										<path d="M55.157,147.938c-15.158,0-27.49-12.332-27.49-27.49s12.332-27.49,27.49-27.49c15.158,0,27.49,12.332,27.49,27.49 S70.315,147.938,55.157,147.938z M55.157,106.958c-7.438,0-13.49,6.052-13.49,13.49s6.052,13.49,13.49,13.49 s13.49-6.052,13.49-13.49S62.596,106.958,55.157,106.958z M204.744,147.932c-15.158,0-27.49-12.332-27.49-27.49 s12.332-27.49,27.49-27.49s27.49,12.332,27.49,27.49S219.902,147.932,204.744,147.932z M204.744,106.952 c-7.438,0-13.49,6.051-13.49,13.49s6.052,13.49,13.49,13.49s13.49-6.051,13.49-13.49S212.183,106.952,204.744,106.952z M249.99,97.95v-28c0-8.84-7.16-16-16-16h-40L150.6,7.12C147.57,3.86,143.32,2,138.86,2H54.72C47.27,2,40.8,7.14,39.13,14.4 l-9.14,39.55h-4c-8.84,0-16,7.16-16,16v28h-8v11.94c0,4.42,3.58,8,8,8h8.59c1.31-19.06,17.19-34.11,36.58-34.11 c19.39,0,35.26,15.05,36.57,34.11h75.86c1.31-19.06,17.18-34.11,36.57-34.11c19.39,0,35.27,15.05,36.58,34.11h9.25 c4.42,0,8-3.58,8-8V97.95H249.99z M41.99,54l8.3-36.88C50.7,15.3,52.32,14,54.19,14h47.8v40H41.99z M113.99,54V14H139 c1.13,0,2.21,0.48,2.97,1.32L176.92,54H113.99z M147.53,198.904h-17.12l12.99-18.542h-15.925l-19.49,27.813h16.012l-13.435,19.187 L147.53,198.904z M178.381,234H81.619c-5.152,0-9.515,3.357-11.037,8H2v8h68.582c1.522,4.643,5.884,8,11.037,8h96.762 c6.417,0,11.619-5.202,11.619-11.619v-0.762C190,239.202,184.798,234,178.381,234z M130,168.59c13.729,0,26.514,6.175,35.077,16.942 l7.826-6.225C162.432,166.142,146.794,158.59,130,158.59c-16.793,0-32.431,7.552-42.903,20.718l7.826,6.225 C103.487,174.766,116.272,168.59,130,168.59z M189.248,166.637C174.69,148.634,153.095,138.31,130,138.31 c-23.095,0-44.69,10.324-59.248,28.327l7.775,6.287c12.65-15.643,31.411-24.614,51.472-24.614s38.822,8.972,51.473,24.614 L189.248,166.637z"></path>
									</g>
								</svg>
								<h3 class="text-secondary">Priorité à l’électrique</h3>
								<p class="lead mb-0">Nous encourageons activement l’utilisation de véhicules électriques pour réduire l’empreinte carbone de chaque trajet. Notre plateforme valorise les conducteurs qui roulent propre et permet aux passagers de faire un choix plus respectueux de l’environnement, sans compromis sur le confort.</p>
							</div>
						</div>
						<div class="col-lg-4">
							<div class=" mx-auto mb-0 mb-lg-3">
								<svg fill="#009991" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="90px" height="90px" viewbox="0 0 279.992 279.992" xml:space="preserve">
									<g id="SVGRepo_bgCarrier" stroke-width="0"></g>
									<g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
									<g id="SVGRepo_iconCarrier">
										<g>
											<g>
												<path d="M264.739,80.949c-14.2-56.8-78.9-87.7-133.601-79.7c-62.6,9.1-120.7,51.7-120.1,119.5c0.5,56.1,51.2,102.5,104.8,107.7 c-2.9,14.7,6.2,34.5,11.3,46.7c2.3,5.5,8.7,6.7,12.4,1.6c6.1-8.399,10.6-17.8,14.5-27.5c3.2-7.8,7.7-16.5,9-24.899 c1,0.3,2,0.3,3.2,0.1C239.739,212.248,283.138,154.849,264.739,80.949z M162.239,210.648c-3.7,0.6-5.2,3.3-5.101,6.2 c-1.7-0.101-3.399,0.399-4.6,1.8c-4.9,5.9-6.9,14.5-9.7,21.6c-2.4,6.101-5,12.101-8,17.801c-1.3-3.801-2.5-7.7-3.7-11.601 c-2.2-7.5-2.1-15.3-3.9-22.8c-0.8-3.4-4.9-4.6-7.6-3c-43.9-14.7-80.1-38.6-92.3-85.8c-15.4-59,38.5-101.9,88.6-116.2 c49.801-14.2,104.101,6.1,129.101,51.4C282.039,137.049,227.638,199.748,162.239,210.648z"></path>
												<path d="M234.338,108.849c-9.6,0.1-19.3,1.1-28.8,2.8c-0.101-13.3-1.7-26.6-3.2-39.9c-0.4-3.1-2.4-5.8-5.8-5.8 c-26.8-0.1-58.5-4.9-84.9,0.7c-13.4,2.8-19,10.5-20.8,23.9c-1.3,9.8,4.2,20.5-8.3,19.9c-7.3-0.3-13.6,0.7-19.7,4.7 c-12.4,8.2-12.4,33.7-8.9,45.9c0.3,1.1,1.1,2.3,2.2,2.899c-0.9,2.5,1.2,5.9,4.7,5.4c9.4-1.5,19-1.601,28.8-0.9 c0.9,3.101,2.6,6.101,4.5,8.4c3.7,4.5,9.6,7.8,15.6,7.2c6.8-0.7,11.4-5.4,14.5-11c12.9,2.199,25.8,4.6,38.5,6 c2.199,8.5,9.8,14.8,19.3,12.699c6.8-1.5,14.7-6.1,17.2-12c0.199-0.3,0.399-0.6,0.6-0.899c6.6-1,13.2-2.7,19.5-5.3 c1-0.4,1.8-1.2,2.3-2.101c18.2-7.3,18.7-40.3,18.7-56.3C240.539,111.648,237.638,108.849,234.338,108.849z M80.638,121.349 c-1.2,4.6-2.6,8.4-6.4,11.9c-2.4,2.2-6.6,3.9-10,2.8c0.1-0.5,0.1-1.1,0.2-1.6C66.338,124.148,73.138,121.549,80.638,121.349z M226.039,141.549c-1.7,8.699-7.3,15.1-9.9,23c-4.6,0.399-9.3,0.699-13.899,0.8c-1.2-4.2-4.101-7.7-7.9-10 c-4-2.5-9.2-3.3-13.7-1.9c-0.5,0.2-0.899,0.4-1.3,0.601c-3.3-0.2-6.8,0.699-9.3,2.5c-2.5,1.899-4.3,4.199-5.5,6.8 c-5.8-0.601-11.601-1.3-17.4-2c-0.3-10.601-0.3-21.3-0.6-31.9c-0.101-5.1-7.8-5.1-7.9,0c-0.3,10.1,0.1,21.1,2.3,31.2 c-4.5-0.5-9-1.1-13.6-1.5c-0.6-3.3-2.5-6.3-6.2-8c-3.8-1.8-8-2.1-12.2-1.8c-0.1-1.4-1.4-2.8-3.1-2.601 c-7.1,1.2-12.7,4.101-15.6,10.7c-9.1,0.3-18.2,1.3-27.3,3.2c0.4-6.8,0.1-13.7,0.7-20.5c10.6,6.3,23.7-7.1,25.2-18.4 c2.5,0.3,4.8,0.6,7,0.7c3.1,0.2,5.6-2.8,5.7-5.7c0.1-10.4-0.4-21.2,2.1-31.4c2.9-11.6,25.5-8.1,33.6-7.8c16.5,0.5,33,0,49.5,0 c8.899,0,7.8,30,8.1,35.6c0.2,3.1,2.4,4.8,4.8,5.1c0.5,1.3,1.7,2.2,3.101,2.6c0,7.2,2.199,14.1,8.399,18.3 c4.101,2.7,10.2,3.2,15.101,1.4C226.138,140.948,226.138,141.248,226.039,141.549z M227.438,131.648c-4,0.8-7.5,2.6-11.699,1.4 c-4.801-1.4-6.601-7.1-7.101-11.6c6.5,0.1,13,0,19.4-0.2C228.039,124.749,227.838,128.249,227.438,131.648z"></path>
												<path d="M133.938,89.349c-0.8-1.3-2.3-2.3-3.9-2.2c-3.6,0.2-7.7,0.9-11.1,2.3c-3.9,1.7-2,8.7,2.2,8.2c2.1-0.3,4.2-0.7,6.3-1.1 c1.8,3.7,2.8,7.9,1,11.8c-1.9,4-6.3,4.8-10.5,4.7c-0.1-5.9,0-11.8-0.7-17.7c-0.2-1.7-2.9-2.5-3.3-0.4c-0.6,3.1-2.2,5.8-2.7,9 c-0.7,4.3-1.4,8.7-1.7,13.1c-0.1,1.8,1.4,3.7,3.1,4.1c8.7,1.9,17.5,0.3,22.9-7.3C140.738,106.349,138.038,96.249,133.938,89.349z"></path>
												<path d="M179.739,92.049c-0.5-1.6-1.801-3.1-3.5-3.5c-9.2-2.3-18.4-3.7-27.301,0.4c-3.399,1.6-3.1,5-1.199,7.2 c-1.101,6.2,0.699,12.5,0.8,18.8c0,1.5,0.8,3.4,2.3,4.1c6.5,2.8,16.9,3.4,23.5,0.6c4.5-1.9,4.9-8.5,5.5-12.8 C180.739,101.949,181.138,96.849,179.739,92.049z M169.239,111.249c-3.601,1-8.7,0.8-12.5-0.2c-1.9-3.7-2.7-8.8-2.601-13.2 c0,0,0,0,0.101,0c5.199-2.3,11-1.5,16.5-0.3C171.138,102.049,170.438,106.849,169.239,111.249z"></path>
											</g>
										</g>
									</g>
								</svg>
								<h3 class="text-secondary">Tout simplement pratique</h3>
								<p class="lead mb-0">Notre interface intuitive vous permet de trouver ou proposer un trajet en quelques clics. Que vous soyez conducteur ou passager, covoiturer n’a jamais été aussi facile. Gagnez du temps, économisez de l’argent et faites un geste pour la planète.</p>
							</div>
						</div>
					</div>
				</div>
			</section>
		</section>
		<section class="home-reserv position-relative text-center d-flex align-items-center justify-content-center container-fluid">
			<h2 class="text-white position-absolute title title text-center">Réservez votre trajet des maintenant</h2>
		</section>
		<section class="container-fluid bg-info py-5">
			<div class="d-flex justify-content-center align-items-center">
				<div class="search-form p-4 rounded shadow">
					<div>
						<h3 class="text-center mb-4">Planifiez votre prochain covoiturage</h3>
					</div>
					{{ form_start(searchForm) }}
					<div>
						{{ form_row(searchForm.date) }}
					</div>
					{{ form_label(searchForm.address_start) }}
					<div class="input-group">
						{{ form_widget(searchForm.address_start, {'attr': {'class': 'form-control'}}) }}
						<button onclick="getLocation()" type="button" class="btn btn-outline-secondary">
							<i class="fa-solid fa-location-dot"></i>
						</button>
						<div id="geo-output"></div>
					</div>
					<p>Cliquez sur l'icone si vous souhaiter être géolocaliser</p>
					<div>
						{{ form_row(searchForm.address_end) }}
					</div>
					<button type="submit" class="btn btn-secondary w-100">Rechercher</button>
					{{ form_end(searchForm) }}
				</div>
			</div>
		</section>
		<section class="container flux py-5">
			<div class="row align-items-center">
				<div class="col-lg-6 text-center mb-4 mb-lg-0">
					<img src="{{ asset('/images/charge.jpg') }}" alt="Description" class="img-fluid rounded shadow">
				</div>
				<div class="col-lg-6 d-flex flex-column justify-content-center align-items-center text-center">
					<h2 class="text-secondary">Électrique et partagé, le duo gagnant</h2>
					<p>
						Chaque trajet partagé avec un véhicule électrique, c’est moins de pollution, moins de bruit, et un air plus sain pour tous. Ensemble, rendons la mobilité plus propre.
					</p>
				</div>
			</div>
		</section>
		{# Reviews website section #}
		<section class="review-section border border-warning border-2 container-fluid mt-0">
			<div class="row">
				<div class="col-lg-4">
					<h2 class="text-start text-info title-review mt-3">Ce que nos voyageurs disent de nous</h2>
				</div>
				<div class="col-lg-8 mt-3">
					<div
						class="row">
						{# MongoDB reviews #}
						{% for review in reviews %}
							<div class="col-lg-4 col-md-6 mb-4">
								<div class="card border-warning card-visit h-100">
									<div class="card-body text-dark bg-gradient d-flex flex-column">
										<h3 class="fs-5 mb-3">Par
											<strong>{{ review.pseudo }}</strong>
										</h3>
										<div class="border-start border-4 border-warning flex-grow-1">
											<p class="card-text ms-2 fs-5 mb-4 ">"
												{{ review.commentary }}
												"</p>
										</div>

										<div class="mt-3">
											<span class="badge bg-warning text-dark fs-6 py-2 px-3">
												{{ review.rate }}/5</span>
										</div>
										<div id="stars" class="d-flex text-warning py-2 stars">
											{% for i in 1..5 %}
												<i class="fa-solid fa-star star{% if i <= review.rate %} filled{% endif %}"></i>
											{% endfor %}
										</div>
										<div class="mt-4">
											<span class="fs-6">Posté le
												{{ review.createdAt|date('d/m/Y') }}</span>
										</div>
									</div>
								</div>
							</div>
						{% else %}
							<div class="col-12">
								<div class="card card-visit h-100">
									<div class="card-body text-white bg-primary bg-gradient d-flex flex-column">
										<p class="card-text fs-5">Aucun avis disponible pour l'instant.</p>
									</div>
								</div>
							</div>
						{% endfor %}
					</div>
				</div>
			</div>
		</section>
	</main>

{% endblock %}
